<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Help</title>
</head>
<body>
    <h1> Описание системы "SLang IDE" </h1>
    <p> Интегрированная среда <b>SLang IDE</b> — это автоматизированная система, состоящая из: </p>
    <ul>
        <li>Компилятора учебного языка SLang (Slang, Semantic Language)</li>
        <li>Плагина к текстовому редактору Visual Studio Code</li>
    </ul>
    <p>На данный момент, компилятор поставляется вместе с плагином, однако его можно использовать отдельно от среды как консольное приложение (см. раздел "Дополнительно")</p>
    <p>Для работы компилятора необходим .NET Core Runtime версии не ниже 3.1.1!</p>
    <h1> Быстрый старт </h1>
    <p>Перед началом работы с интегрированной средой лучше всего создать рабочее окружение — workspace. Workspace — это рабочее пространство, которое состоит из некоторого множества директорий, в которых и находятся проекты на языке SLang. </p>
    <p>Самый удобный способ для начала работы со средой:</p>
    <ul>
        <li>Создать директорию, где будут находиться все ваши проекты. Для примера, этой директорией будет <code>C:\projects\my-slang-projects</code></li>
        <li>Нажать клавишу <code>F1</code> и найти в выпадающем списке команду <code>SL: Create new project in current workspace</code>(создать проект в текущем рабочем окружении)<br><img src="img/1.png"/><br>Кликните на команду в списке, чтобы выполнить её</li>
        <li>В появившемся текстовом поле ввести название проекта (допустим, это будет FirstProject) <br><img src="img/2.png"/></li>
        <li>Подтвердить ввод нажатием клавиши <code>Enter</code></li>
        <li>В диалоговом меню выбрать директорию с проектом и нажать на кнопку <code>Choose folder of project</code> <br><img src="img/3.png"></li>
        <li>В случае, если все было выбрано верно, меню редактора примет следующий вид: <br><img src="img/4.png"></li>
        <li>Теперь нам нужно сохранить рабочее окружение, чтобы пользоваться его настройками (о них будет написано позднее). Выберите команду <code>File->Save workspace as...</code> Сохраните файл настроек в корневой папке вашего окружения (в примере это <code>C:\projects\my-slang-projects</code>)<br><img src="img/5.png"></li>
        <li>Последний шаг для настройки работы — указать созданный проект как стартовый (именно его мы будем собирать и запускать). Для этого нажмите клавишу <code>F1</code> и найдите команду <code>SL: Set active project</code><br><img src="img/6.png"><br> Запустите команду на выполнение</li>
        <li>Выбор проекта осуществляется кликом на его название в выведенном списке <br><img src="img/7.png"></li>
        <li>Теперь в строке состояния снизу можно увидеть путь до текущего активного проекта <br><img src="img/8.png"></li>
    </ul>

    <h1> Возможности расширения </h1>
    <h2> Подсветка синтаксиса </h2>
    <p> Расширение имеет поддержку базовой подсветки синтаксиса, а именно базовых ключевых слов и литералов (чисел, строк) </p>
    <h2> Сниппеты </h2>
    <p> Для некоторых ключевых слов (например, variable) доступны сниппеты — готовые фрагменты исходного кода, которые можно изменять. Это позволяет минимизировать ошибки в исходном коде (нам пришлось бы набирать инструкции кода вручную). На данный момент доступны самые основные сниппеты (объявление переменной простых типов, масссивов, указателей и другие основные конструкции). Перемещаться по частям сниппета можно, используя клавишу <code>Tab</code>. Список сниппетов будет обновляться в будущем </p>
    <h2> Сборка и запуск </h2>
    <p> Возможность сборки и запуска проектов реализована в виде задач (Tasks) </p>
    <p> В VSCode можно создать различные типы задач, такие как задачи сборки или запуска тестов </p>
    <p> Получить список задач сборки можно с помощью сочетания <code>Ctrl+Shift+B</code>, а список всех задач — через меню <code>Terminal->Run Tasks</code>. На данный момент доступна одна задача сборки, которую можно сделать задачей по умолчанию (см. пункт "Дополнительно")</p>
    <p> Для сборки активного проекта достаточно нажать сочетание клавиш <code>ctrl+f9</code>, которое само выполнит указанную задачу без приведенных выше шагов</p>
    <p> Для запуска собранной программы достаточно нажать сочетание клавиш <code>ctrl+f10</code> </p>
    <p> <b>Важно!</b> Запуск программы (с отладкой и без) из редактора (сочетания f5 и ctrl+f5) на данный момент не реализованы. </p>
    <h2> Команды расширения </h2>
    <p> Команды VSCode отличаются от задач тем, что последние запускают какой-то внешний процесс, а команды оперируют функционалом, который и поставляет редактор или его расширения </p>
    <p> На данный момент для SLangIDE доступно 4 команды (получить список всех команд редактора можно, нажав клавишу F1) </p>
    <ul>
        <li> <code>SL: Create new project in current workspace</code> — Создание проекта в текущем Workspace (при его отсутствии будет созданно временное окружение) </li>
        <li> <code>SL: Show Help</code> — Вывод справки с помощью по работе с системой (которую Вы сейчас читаете) </li>
        <li> <code>SL: Set active project</code> — Указание активного проекта (который будет собираться и запускаться) </li>
        <li> <code>SL: Open samples workspace</code> — Открывает в новом окне рабочее пространство с примерами программ, поставляемое вместе с компилятором языка SLang</li>
    </ul>

    <h1> Дополнительно </h1>
    <h2> Использование компилятора отдельно от среды </h2> 
    <p>Компилятор языка SLang может использоваться как консольное приложение. Собранный исполняемый файл находится в директории bin, которая находится в директории с установленным расширением (для Windows <code>\Users\USERNAME\.vscode\extensions</code>)</p>
    <p>Аргументы командной строки — </p>
    <ul>
        <li>Путь к директории проекта</li>
        <li>Путь к директории для оттранслированных файлов</li>
        <li>Язык (В данный момент доступен только один — "cpp")</li>
        <li>Путь к исполняемому файлу</li>
    </ul>
    <h2>Возможные трудности</h2>
    <ul>
        <li>В некоторых случаях программа при запуске на ctrl+f10 может не запуститься. Это может быть вызвано тем, что в терминале по умолчанию находится нестандартная оболочка (напр. PowerShell). Перейдите к пункту <code>Terminal</code> в окне снизу и в выпадающем списке выберите <code>Select Default Shell</code>. В выпадающем списке выберите терминал по умолчанию в вашей ОС (для Windows это будет <code>cmd</code>).</li>
        <li>Стоит отметить, что среда делает проверку обновлений компилятора при запуске среды, и при отсутствии Интернета выводится соответствующее сообщение.</li>
    </ul>
    <h2> Перенос workspace на другие ПК </h2>
    <p>В случае переноса workspace на другой ПК необходимо будет изменить абсолютные пути. В случае, если все проекты находятся в одной папке, как и показано в секции "Быстрый старт", то единственный путь, который необходимо поменять — это путь к активному проекту, который всегда хранится как абсолютный путь. Для этого необходимо выполнить команду установки активного проекта ещё раз.</p>
    <h2> Настройка задач сборки по умолчанию </h2>
    <p>Для того, чтобы не выбирать задачу для сборки каждый раз, можно настроить задачу по умолчанию <code>Terminal->Configure Default Build Task</code></p>
    <h2> Исходный код </h2>
    <p> Лицензия MIT: </p>
    <ul>
        <li><a href="https://github.com/NothingIsGood/Semantic-Language-Extension">Расширение</a></li>
        <li><a href="https://github.com/NothingIsGood/SlangCompilier">Компилятор</a></li>
    </ul>
</body>
</html>